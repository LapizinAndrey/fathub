{"version":3,"sources":["components/AssetComponents/sendMessageComponent/sender.module.css","HOC/WithAuthHOC.js","../node_modules/reselect/es/index.js","redux/selectors/users-selector.js","components/AssetComponents/sendMessageComponent/Sender.jsx","components/AssetComponents/sendMessageComponent/SenderContainer.jsx","components/Dialogs/dialogs.module.css","components/Dialogs/UserDialog/UserDialog.module.css","components/Dialogs/Message/message.module.css","components/Dialogs/Dialogs.jsx","components/Dialogs/UserDialog/UserDialog.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","withAuthRedirect","Component","this","props","isAuth","to","React","defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","length","i","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","map","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","undefined","concat","selector","params","push","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","getUsers_selector","state","usersPage","users","filter","u","getPageSize","pageSize","getUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getIsAuth","auth","maxLength","maxLengthCretaor","ReduxSender","reduxForm","form","className","styles","inputArea","onSubmit","handleSubmit","Field","component","TextArea","name","rows","placeholder","ta","validate","requiredField","type","myButton","SenderContainer","values","onSend","input__area","Dialogs","dialogs","header","dialogsItems","messages","messagesItems","footer__messages","UserDialog","id","activeClassName","selected","user","src","alt","roundImage","userName","Message","message","my","myMessage","messageDate","textContent","text","compose","connect","el","dispatch","newValue","messageSendActionCreator"],"mappings":"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","file":"static/js/3.4d629bdc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputArea\":\"sender_inputArea__3_vLe\",\"ta\":\"sender_ta__5jB4S\",\"myButton\":\"sender_myButton__TG9AZ\"};","import React from \"react\";\nimport {Redirect} from \"react-router-dom\";\n\nexport const withAuthRedirect = Component => {\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) {\n                return <Redirect to = \"/login\"/>\n            } else {\n                return <Component {...this.props}/>\n            }\n        }\n    }\n\n    return RedirectComponent\n\n}","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import {createSelector} from \"reselect\";\n\n// export const getUsers = state => {\n//     return state.usersPage.users\n// }\n\nconst _getUsers = state => {\n    return state.usersPage.users\n}\n\nexport const getUsers_selector = createSelector(_getUsers, users => users.filter(u => true))\n\n// export const getUsers_selector = createSelector(_getUsers, users => {users.filter(user => true)})\n\nexport const getPageSize = state => {\n    return state.usersPage.pageSize\n}\n\nexport const getUsersCount = state => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = state => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsFetching = state => {\n    return state.usersPage.isFetching\n}\n\nexport const getIsAuth = state => {\n    return state.auth.isAuth\n}","import React from \"react\";\nimport styles from './sender.module.css'\nimport {Field, reduxForm} from \"redux-form\";\nimport {maxLengthCretaor, requiredField} from \"../../../tools/validator\";\nimport {TextArea} from \"../FormsControls/FormsControls\";\n\nconst maxLength = maxLengthCretaor(30)\n\nconst Sender = (props) => {\n    return (\n        <form className={styles.inputArea} onSubmit={props.handleSubmit}>\n            <Field component={TextArea} name={\"input__area\"} rows=\"3\"\n                   placeholder=\"Введите ваше сообщение здесь...\" className={styles.ta}\n                   validate = {[requiredField, maxLength]}/>\n            <button type=\"submit\" className={styles.myButton}>Отправить</button>\n        </form>\n    )\n}\n\nconst ReduxSender = reduxForm({form:'senderForm'})(Sender)\n\nexport default ReduxSender;","import ReduxSender from \"./Sender\";\n\nconst SenderContainer = props => {\n    return <ReduxSender onSubmit = {(values) => props.onSend(values.input__area)}/>\n}\n\nexport default SenderContainer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"dialogs_dialogs__39nsD\",\"header\":\"dialogs_header__2Ckce\",\"users\":\"dialogs_users__2OleI\",\"footer__messages\":\"dialogs_footer__messages__7mdIf\",\"roundImage\":\"dialogs_roundImage__2z6ce\",\"messages\":\"dialogs_messages__36_1l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"UserDialog_user__1KX-Z\",\"roundImage\":\"UserDialog_roundImage__32mKP\",\"selected\":\"UserDialog_selected__2ThYc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"message_message__3Ece3\",\"myMessage\":\"message_myMessage__3Tnaq\"};","import React from \"react\";\nimport styles from './dialogs.module.css'\nimport SenderContainer from \"../AssetComponents/sendMessageComponent/SenderContainer\";\n\nconst Dialogs = (props) => {\n    return(\n        <div className={styles.dialogs}>\n            <div className={styles.header}>\n                <h1>Диалоги</h1>\n            </div>\n            <div className={styles.users}>\n                {props.dialogsItems}\n            </div>\n            <div className={styles.messages}>\n                {props.messagesItems}\n            </div>\n            <div className={styles.footer__messages}>\n                <SenderContainer onSend = {props.onSend}/>\n            </div>\n        </div>\n    )\n}\n\nexport default Dialogs;","import React from \"react\";\nimport styles from \"./UserDialog.module.css\";\nimport {NavLink} from \"react-router-dom\";\n\nconst UserDialog = (props) => {\n    return (\n        <NavLink to={'/dialogs/' + (props.id || '')} activeClassName ={styles.selected}>\n            <div className={styles.user}>\n                    <span>\n                        <img src=\"https://seeklogo.com/images/F/fat-man-colectivo-logo-267CCD18AC-seeklogo.com.jpg\"\n                             alt=\"Аватар пользователя\" className={styles.roundImage}/>\n                    </span>\n                <div className={styles.userName}>{props.userName}</div>\n            </div>\n        </NavLink>\n    )\n}\n\nexport default UserDialog;","import React from \"react\";\nimport styles from \"./message.module.css\";\n\nconst Message = (props) => {\n\n    return (\n        <div className={styles.message + (props.my ? \" \" + styles.myMessage : '')}>\n            <div>{props.messageDate}</div>\n            <div className={styles.textContent}>\n                <span>{props.text}</span>\n            </div>\n        </div>\n    )\n}\n\nexport default Message","import Dialogs from \"./Dialogs\";\nimport User from \"./UserDialog/UserDialog\";\nimport Message from \"./Message/Message\";\nimport {connect} from \"react-redux\";\nimport {messageSendActionCreator} from \"../../redux/dialogs-reducer\";\nimport React from \"react\";\nimport {withAuthRedirect} from \"../../HOC/WithAuthHOC\";\nimport {compose} from \"redux\";\nimport {getUsers} from \"../../redux/selectors/users-selector\";\n\nconst mapStateToProps = (state) => {\n    const dialogsItems  = state.dialogs?.dialogs && state.dialogs.dialogs\n        .map(el => <User userName = {el.name} id = {el.id} key = {el.id}/>)\n    const messagesItems = state.dialogs.messages && state.dialogs.messages.map(el => {\n        return <Message messageDate = {el.messageDate} text = {el.text} my = {el.my} key = {el.id}/>\n    })\n    return {\n        dialogsItems,\n        messagesItems,\n        isAuth: state.auth.isAuth\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onSend: (newValue) => {dispatch(messageSendActionCreator(newValue))},\n    }\n}\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs)"],"sourceRoot":""}
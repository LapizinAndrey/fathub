{"version":3,"sources":["HOC/WithAuthHOC.js","../node_modules/reselect/es/index.js","redux/selectors/users-selector.js","components/FindFriends/serachFriends.module.css","components/FindFriends/UserCard/style.module.css","components/AssetComponents/Paginator/style.module.css","components/FindFriends/UserCard/UserCard.jsx","components/AssetComponents/Paginator/Paginator.jsx","components/FindFriends/Users.jsx","components/FindFriends/usersContainer.jsx"],"names":["withAuthRedirect","Component","this","props","isAuth","to","React","defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","length","i","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","map","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","undefined","concat","selector","params","push","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","getUsers_selector","state","usersPage","users","filter","u","getPageSize","pageSize","getUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getIsAuth","auth","module","exports","UserCard","className","style","card","leftSideData","id","govno","photo","src","alt","button","onClick","follow__fn","followed","disabled","disable","follow","rightSideDescr","status","descr","descrItem","name","country","city","Paginator","usersCount","onPageChanged","pagesCount","Math","ceil","pages","pagination","page","selectedPage","Users","cardsWrapper","user","location","inProgress","UsersAPI","getUsersThunkCreator","nextProps","nextState","nextContext","console","log","followThunkActionCreator","compose","connect","unfollow","setUsers","setCurrentPage","setUsersCount","toggleIsFetching","followInProgress"],"mappings":"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","file":"static/js/5.f57f543d.chunk.js","sourcesContent":["import React from \"react\";\nimport {Redirect} from \"react-router-dom\";\n\nexport const withAuthRedirect = Component => {\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) {\n                return <Redirect to = \"/login\"/>\n            } else {\n                return <Component {...this.props}/>\n            }\n        }\n    }\n\n    return RedirectComponent\n\n}","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import {createSelector} from \"reselect\";\n\n// export const getUsers = state => {\n//     return state.usersPage.users\n// }\n\nconst _getUsers = state => {\n    return state.usersPage.users\n}\n\nexport const getUsers_selector = createSelector(_getUsers, users => users.filter(u => true))\n\n// export const getUsers_selector = createSelector(_getUsers, users => {users.filter(user => true)})\n\nexport const getPageSize = state => {\n    return state.usersPage.pageSize\n}\n\nexport const getUsersCount = state => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = state => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsFetching = state => {\n    return state.usersPage.isFetching\n}\n\nexport const getIsAuth = state => {\n    return state.auth.isAuth\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardsWrapper\":\"serachFriends_cardsWrapper__20Gex\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"style_card__3ppkh\",\"leftSideData\":\"style_leftSideData__ZM4vd\",\"rightSideDescr\":\"style_rightSideDescr__20N7X\",\"descr\":\"style_descr__2b6a-\",\"photo\":\"style_photo__3gy6N\",\"govno\":\"style_govno__32KDC\",\"button\":\"style_button__3v5T_\",\"status\":\"style_status__15UZJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"style_page__1iJmi\",\"selectedPage\":\"style_selectedPage__2gbRU\",\"pagination\":\"style_pagination__3UEaO\"};","import React from \"react\";\nimport style from './style.module.css'\nimport {NavLink} from \"react-router-dom\";\n\nconst UserCard = props => {\n    return <div className={style.card} key={props.id}>\n            <div className={style.leftSideData}>\n                <NavLink to = {'profile/' + props.id} className = {style.govno}>\n                    <img className={style.photo} src={props.photo} alt={\"Аватар пользователя\"}/>\n                </NavLink>\n                <button className={style.button}\n                        onClick={() => {props.follow__fn(props.id, (props.followed ? 'delete' : 'post'), props.followed)}}\n                        disabled={props.disable}>{props.follow}</button>\n            </div>\n            <div className={style.rightSideDescr}>\n                <div className={style.status}><h3>{props.status}</h3></div>\n                <div className={style.descr}>\n                    <span className={style.descrItem}>ФИО: {props.name}</span>\n                    <span className={style.descrItem}>Страна: {props.country}</span>\n                    <span className={style.descrItem}>Город: {props.city}</span>\n                </div>\n            </div>\n        </div>\n}\n\nexport default UserCard","import React from \"react\"\nimport style from './style.module.css'\n\nconst Paginator = ({usersCount, pageSize, currentPage, onPageChanged}) => {\n\n    let pagesCount = Math.ceil(usersCount / pageSize)\n    let pages = []\n    for (let i = 1; i <= pagesCount && pages.length < 5; i++) {\n        if (i > currentPage + 4) {\n            break\n        } else if (i < currentPage - 2) {\n            continue\n        } else {\n            pages.push(i)\n        }\n    }\n\n    return (<div className={style.pagination}>\n        {pages.map(page =>\n            <span className={style.page + (currentPage === page ? ' ' + style.selectedPage : '')}\n                  onClick={() => onPageChanged(page)}>\n                {page}\n                </span>)}\n    </div>)\n}\n\nexport default Paginator","import React from \"react\";\nimport style from \"./serachFriends.module.css\";\nimport UserCard from \"./UserCard/UserCard\";\nimport Paginator from \"../AssetComponents/Paginator/Paginator\";\n\nlet Users = ({usersCount, pageSize, currentPage, onPageChanged, ...props}) => {\n    return (\n        <div className={style.cardsWrapper}>\n            <Paginator usersCount={usersCount}\n                       pageSize={pageSize}\n                       currentPage={currentPage}\n                       onPageChanged={onPageChanged}/>\n            {props.users.map(user => <UserCard\n                key={user.id}\n                id={user.id}\n                photo={user.photo}\n                followed={user.followed}\n                follow__fn={props.follow}\n                follow={user.followed ? 'Отписаться' : 'Подписаться'}\n                status={user.status}\n                name={user.name}\n                country={user.location.country}\n                city={user.location.city}\n                disable = {user.inProgress}\n            />)}\n        </div>\n    )\n}\n\nexport default Users","import React from \"react\";\nimport {\n    follow,\n    setCurrentPage, toggleIsFetching,\n    setUsers, setUsersCount,\n    unfollow, followInProgress, getUsersThunkCreator, followThunkActionCreator\n} from \"../../redux/users-reducer\";\nimport {connect} from \"react-redux\";\nimport Users from \"./Users\";\nimport Burger from \"../AssetComponents/Loaders/burger-loader\"\nimport {withAuthRedirect} from \"../../HOC/WithAuthHOC\";\nimport {compose} from \"redux\";\nimport {\n    getCurrentPage,\n    getIsAuth,\n    getIsFetching,\n    getPageSize, getUsers, getUsers_selector,\n    getUsersCount\n} from \"../../redux/selectors/users-selector\";\n\nclass UsersAPI extends React.Component {\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        return nextProps !== this.props\n    }\n\n    render() {\n        console.log(\"Перерисовали\", this.props)\n        return <>\n            {this.props.isFetching && <Burger/>}\n            <Users usersCount={this.props.usersCount}\n                   pageSize={this.props.pageSize}\n                   currentPage={this.props.currentPage}\n                   onPageChanged={this.onPageChanged}\n                   users={this.props.users}\n                   follow={this.props.followThunkActionCreator}\n            />\n        </>\n    }\n\n    onPageChanged = page => {\n        if (page !== this.props.currentPage) {\n            this.props.getUsersThunkCreator(this.props.pageSize, page, this.props.usersCount)\n        }\n    }\n\n    componentDidMount() {\n        this.props.getUsersThunkCreator(this.props.pageSize, this.props.currentPage, this.props.usersCount)\n    }\n}\n\nlet mapStateToProps = state => {\n    return {\n        users: getUsers_selector(state),\n        usersCount: getUsersCount(state),\n        pageSize: getPageSize(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        isAuth: getIsAuth(state),\n    }\n}\n\nexport default compose(connect(mapStateToProps, {\n    follow, unfollow,\n    setUsers, setCurrentPage,\n    setUsersCount, toggleIsFetching,\n    followInProgress, getUsersThunkCreator,\n    followThunkActionCreator}), withAuthRedirect)(UsersAPI)\n"],"sourceRoot":""}